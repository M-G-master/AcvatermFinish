{"ast":null,"code":"import _objectSpread from\"C:/\\u041F\\u0440\\u043E\\u044D\\u043A\\u0442\\u044B/AKVATERM/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import{calcTotalPrice}from'../../utils/calkTotalPrice';import{getCartFromLS}from'../../utils/getCartFromLS';var initialState=getCartFromLS();var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=calcTotalPrice(state.items);},minusItem:function minusItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,minusItem=_cartSlice$actions.minusItem;export{addItem,removeItem,clearItems,minusItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","calcTotalPrice","getCartFromLS","initialState","cartSlice","name","reducers","addItem","state","action","findItem","items","find","obj","id","payload","count","push","totalPrice","minusItem","removeItem","filter","clearItems","actions","reducer"],"sources":["C:/Проэкты/AKVATERM/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { calcTotalPrice } from '../../utils/calkTotalPrice';\r\nimport { getCartFromLS } from '../../utils/getCartFromLS';\r\n\r\nimport { CartItem, CartSliceState } from './types';\r\n\r\nconst initialState: CartSliceState = getCartFromLS();\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addItem(state, action: PayloadAction<CartItem>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n      if (findItem) {\r\n        findItem.count++;\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload,\r\n          count: 1,\r\n        });\r\n      }\r\n      state.totalPrice = calcTotalPrice(state.items)\r\n    },\r\n\r\n    minusItem(state, action: PayloadAction<string>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload);\r\n\r\n      if (findItem) {\r\n        findItem.count--;\r\n      }\r\n    },\r\n\r\n    removeItem(state, action: PayloadAction<string>) {\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n    },\r\n\r\n    clearItems(state) {\r\n      state.items = [];\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addItem, removeItem, clearItems, minusItem } = cartSlice.actions;\r\nexport default cartSlice.reducer;"],"mappings":"2IAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,cAAT,KAA+B,4BAA/B,CACA,OAASC,aAAT,KAA8B,2BAA9B,CAIA,GAAMC,aAA4B,CAAGD,aAAa,EAAlD,CACA,GAAME,UAAS,CAAGJ,WAAW,CAAC,CAC5BK,IAAI,CAAE,MADsB,CAE5BF,YAAY,CAAZA,YAF4B,CAG5BG,QAAQ,CAAE,CACRC,OADQ,kBACAC,KADA,CACOC,MADP,CACwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAAP,CAAeD,EAAnC,EAAjB,CAAjB,CACA,GAAIJ,QAAJ,CAAc,CACZA,QAAQ,CAACM,KAAT,GACD,CAFD,IAEO,CACLR,KAAK,CAACG,KAAN,CAAYM,IAAZ,gCACKR,MAAM,CAACM,OADZ,MAEEC,KAAK,CAAE,CAFT,IAID,CACDR,KAAK,CAACU,UAAN,CAAmBjB,cAAc,CAACO,KAAK,CAACG,KAAP,CAAjC,CACD,CAZO,CAcRQ,SAdQ,oBAcEX,KAdF,CAcSC,MAdT,CAcwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAA3B,EAAjB,CAAjB,CAEA,GAAIL,QAAJ,CAAc,CACZA,QAAQ,CAACM,KAAT,GACD,CACF,CApBO,CAsBRI,UAtBQ,qBAsBGZ,KAtBH,CAsBUC,MAtBV,CAsByC,CAC/CD,KAAK,CAACG,KAAN,CAAcH,KAAK,CAACG,KAAN,CAAYU,MAAZ,CAAmB,SAACR,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAA3B,EAAnB,CAAd,CACD,CAxBO,CA0BRO,UA1BQ,qBA0BGd,KA1BH,CA0BU,CAChBA,KAAK,CAACG,KAAN,CAAc,EAAd,CACAH,KAAK,CAACU,UAAN,CAAmB,CAAnB,CACD,CA7BO,CAHkB,CAAD,CAA7B,CAoCO,uBAAuDd,SAAS,CAACmB,OAAjE,CAAQhB,OAAR,oBAAQA,OAAR,CAAiBa,UAAjB,oBAAiBA,UAAjB,CAA6BE,UAA7B,oBAA6BA,UAA7B,CAAyCH,SAAzC,oBAAyCA,SAAzC,C,gDACP,cAAef,UAAS,CAACoB,OAAzB"},"metadata":{},"sourceType":"module"}