{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u041F\\u0440\\u043E\\u044D\\u043A\\u0442\\u044B\\\\AKVATERM\\\\src\\\\Pages\\\\FullPizza.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport videoPlayImg from '../assets/img/play.png';\nimport ReactPlayer from 'react-player/youtube';\nimport Modal from '../components/Modal';\nimport { addItem, selectCartItemById } from '../redux/slices/cartSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst typeNames = ['Розміри', 'Ш*Г*В'];\nconst {\n  id\n} = useParams();\n\nconst FullPizza = _ref => {\n  _s();\n\n  let {\n    id,\n    title,\n    price,\n    imageUrl,\n    videoUrl,\n    sizes,\n    types\n  } = _ref;\n  const [open, setOpen] = React.useState(false);\n  const [pizza, setPizza] = React.useState();\n  const navigate = useNavigate();\n  React.useEffect(() => {\n    async function fetchPizzas() {\n      try {\n        const {\n          data\n        } = await axios.get('https://63332597433198e79dc04b5e.mockapi.io/items/' + id);\n        setPizza(data);\n      } catch (error) {\n        alert('Помилка при завантаженні товару');\n        navigate('/');\n      }\n    }\n\n    fetchPizzas();\n  }, []);\n\n  if (!pizza) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false);\n  }\n\n  const [activeType, setActiveType] = React.useState(0);\n  const cartItem = useSelector(selectCartItemById(id));\n  const [activeSize, setActiveSize] = React.useState(0);\n  const dispatch = useDispatch();\n  const addedCount = cartItem ? cartItem.count : 0;\n\n  const onClickAdd = () => {\n    const item = {\n      id,\n      title,\n      price,\n      imageUrl,\n      videoUrl,\n      type: typeNames[activeType],\n      size: sizes[activeSize],\n      count: 0\n    };\n    dispatch(addItem(item));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: pizza.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"headerFull\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"imgFull\",\n        src: pizza.imageUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"componentsFull\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: pizza.components\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textFull\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0445\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: pizza.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pizza-block__price\",\n        children: [\" \", pizza.price, \" \\u0433\\u0440.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"btnPlay\",\n          onClick: () => setOpen(true),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"playImg\",\n            src: videoPlayImg,\n            alt: \"Empty cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0412\\u0456\\u0434\\u0435\\u043E \\u043E\\u0433\\u043B\\u044F\\u0434 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          open: open,\n          setOpen: setOpen,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video\",\n            children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n              url: pizza.videoUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClickAdd,\n        className: \"button button--outline button--add\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"12\",\n          height: \"12\",\n          viewBox: \"0 0 12 12\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), addedCount > 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          children: addedCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FullPizza, \"KMjC7gyr6/GPEFbKfgUvbDNUuuQ=\", false, function () {\n  return [useNavigate, useSelector, useDispatch];\n});\n\n_c = FullPizza;\nexport default FullPizza;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullPizza\");","map":{"version":3,"names":["axios","React","useNavigate","useParams","videoPlayImg","ReactPlayer","Modal","addItem","selectCartItemById","useDispatch","useSelector","typeNames","id","FullPizza","title","price","imageUrl","videoUrl","sizes","types","open","setOpen","useState","pizza","setPizza","navigate","useEffect","fetchPizzas","data","get","error","alert","activeType","setActiveType","cartItem","activeSize","setActiveSize","dispatch","addedCount","count","onClickAdd","item","type","size","components","text"],"sources":["C:/Проэкты/AKVATERM/src/Pages/FullPizza.tsx"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport videoPlayImg from '../assets/img/play.png';\r\nimport ReactPlayer from 'react-player/youtube';\r\nimport Modal from '../components/Modal';\r\nimport { addItem, CartItem, selectCartItemById } from '../redux/slices/cartSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PizzaBlockProps } from '../components/PizzaBlock';\r\n\r\nconst typeNames = ['Розміри', 'Ш*Г*В'];\r\nconst { id } = useParams();\r\nconst FullPizza: React.FC<PizzaBlockProps>= ({\r\n  id,\r\n  title,\r\n  price,\r\n  imageUrl,\r\n  videoUrl,\r\n  sizes,\r\n  types,\r\n  \r\n}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [pizza, setPizza] = React.useState<{\r\n      imageUrl: string;\r\n      title: string;\r\n      price: number;\r\n      components: string;\r\n      text: string;\r\n      videoUrl: string\r\n    }>();\r\n  \r\n  const navigate = useNavigate();\r\n \r\n  React.useEffect(() => {\r\n    async function fetchPizzas() {\r\n      try {\r\n        const { data } = await axios.get('https://63332597433198e79dc04b5e.mockapi.io/items/' + id);\r\n        setPizza(data);\r\n      } catch (error) {\r\n        alert('Помилка при завантаженні товару');\r\n        navigate('/');\r\n      }\r\n    }\r\n\r\n    fetchPizzas();\r\n  }, []);\r\n\r\n  if (!pizza) {\r\n    return <>Загрузка...</>\r\n  }\r\n  \r\n\r\n  \r\n  const [activeType, setActiveType] = React.useState(0);\r\n  const cartItem = useSelector(selectCartItemById(id));\r\n  const [activeSize, setActiveSize] = React.useState(0);\r\n  const dispatch = useDispatch();\r\n  const addedCount = cartItem ? cartItem.count : 0;\r\n  const onClickAdd = () => {\r\n\r\n    \r\n    const item: CartItem  = {\r\n      id,\r\n      title,\r\n      price,\r\n      imageUrl,\r\n      videoUrl,\r\n      type: typeNames[activeType],\r\n      size: sizes[activeSize],\r\n      count: 0,\r\n    };\r\n    dispatch(addItem(item));\r\n  };\r\n  \r\n  return (\r\n    <div className=\"container\">\r\n      <h1>{pizza.title}</h1>\r\n      <div className=\"headerFull\">\r\n        <img className=\"imgFull\" src={pizza.imageUrl} />\r\n        <div className=\"componentsFull\">\r\n          <h2>описание товара </h2>\r\n          <p>{pizza.components}</p>\r\n        </div>\r\n        <div className=\"textFull\">\r\n          <h2>характеристики товара</h2>\r\n          <p>{pizza.text}</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n          <div className=\"pizza-block__price\"> {pizza.price} гр.</div>\r\n          <div className=\"App-modal\">\r\n            <li className=\"btnPlay\" onClick={() => setOpen(true)}>\r\n              <img className=\"playImg\" src={videoPlayImg} alt=\"Empty cart\" />\r\n              <h4>Відео огляд товару</h4>\r\n            </li>\r\n            <Modal open={open} setOpen={setOpen}>\r\n              <div className=\"video\">\r\n                <ReactPlayer url={pizza.videoUrl} />\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n          <button onClick={onClickAdd} className=\"button button--outline button--add\">\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Додати</span>\r\n            {addedCount > 0 && <i>{addedCount}</i>}\r\n          </button>\r\n        </div>\r\n    </div>\r\n  );\r\n\r\n}\r\nexport default FullPizza;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}