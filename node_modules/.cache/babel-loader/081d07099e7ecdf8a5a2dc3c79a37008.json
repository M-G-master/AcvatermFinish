{"ast":null,"code":"import _slicedToArray from\"C:/\\u041F\\u0440\\u043E\\u044D\\u043A\\u0442\\u044B/AKVATERM/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useDispatch}from'react-redux';import debounce from'lodash.debounce';import styles from'./Search.module.scss';import{setSearchValue}from'../../redux/filter/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var dispatch=useDispatch();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef(null);var onClickClear=function onClickClear(){var _inputRef$current;dispatch(setSearchValue(''));setValue('');(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};var updateSearchValue=React.useCallback(debounce(function(str){dispatch(setSearchValue(str));},150),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:styles.icon,enableBackground:\"new 0 0 32 32\",id:\"Editable-line\",version:\"1.1\",viewBox:\"0 0 32 32\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"14\",cy:\"14\",fill:\"none\",id:\"XMLID_42_\",r:\"9\",stroke:\"#000000\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeMiterlimit:\"10\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{fill:\"none\",id:\"XMLID_44_\",stroke:\"#000000\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeMiterlimit:\"10\",strokeWidth:\"2\",x1:\"27\",x2:\"20.366\",y1:\"27\",y2:\"20.366\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u041F\\u043E\\u0448\\u0443\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0443.....\"}),value&&/*#__PURE__*/_jsx(\"svg\",{onClick:onClickClear,className:styles.clearIcon,viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\"})})]});};export default Search;","map":{"version":3,"names":["React","useDispatch","debounce","styles","setSearchValue","Search","dispatch","useState","value","setValue","inputRef","useRef","onClickClear","current","focus","updateSearchValue","useCallback","str","onChangeInput","event","target","root","icon","input","clearIcon"],"sources":["C:/Проэкты/AKVATERM/src/components/Search/index.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport debounce from 'lodash.debounce';\r\nimport styles from './Search.module.scss';\r\nimport { setSearchValue }  from '../../redux/filter/slice';\r\n\r\nconst Search: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const [value, setValue] = React.useState('');\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n\r\n  const onClickClear = () => {\r\n    dispatch(setSearchValue(''));\r\n    setValue('');\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  const updateSearchValue = React.useCallback(\r\n    debounce((str: string) => {\r\n      dispatch(setSearchValue(str));\r\n    }, 150),\r\n    [],\r\n  );\r\n\r\n  const onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(event.target.value);\r\n    updateSearchValue(event.target.value);\r\n  };\r\n  return (\r\n    <div className={styles.root}>\r\n      <svg\r\n        className={styles.icon}\r\n        enableBackground=\"new 0 0 32 32\"\r\n        id=\"Editable-line\"\r\n        version=\"1.1\"\r\n        viewBox=\"0 0 32 32\"\r\n        xmlns=\"http://www.w3.org/2000/svg\">\r\n        <circle\r\n          cx=\"14\"\r\n          cy=\"14\"\r\n          fill=\"none\"\r\n          id=\"XMLID_42_\"\r\n          r=\"9\"\r\n          stroke=\"#000000\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeMiterlimit=\"10\"\r\n          strokeWidth=\"2\"\r\n        />\r\n        <line\r\n          fill=\"none\"\r\n          id=\"XMLID_44_\"\r\n          stroke=\"#000000\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeMiterlimit=\"10\"\r\n          strokeWidth=\"2\"\r\n          x1=\"27\"\r\n          x2=\"20.366\"\r\n          y1=\"27\"\r\n          y2=\"20.366\"\r\n        />\r\n      </svg>\r\n      <input\r\n        ref={inputRef}\r\n        value={value}\r\n        onChange={onChangeInput}\r\n        className={styles.input}\r\n        placeholder=\"Пошук товару.....\"\r\n      />\r\n      {value && (\r\n        <svg\r\n          onClick={onClickClear}\r\n          className={styles.clearIcon}\r\n          viewBox=\"0 0 20 20\"\r\n          xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z\" />\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"4IAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,SAAP,KAAqB,iBAArB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,cAAT,KAAgC,0BAAhC,C,wFAEA,GAAMC,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC7B,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,oBAA0BD,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,SAAQ,CAAGV,KAAK,CAACW,MAAN,CAA+B,IAA/B,CAAjB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,uBACzBN,QAAQ,CAACF,cAAc,CAAC,EAAD,CAAf,CAAR,CACAK,QAAQ,CAAC,EAAD,CAAR,CACA,mBAAAC,QAAQ,CAACG,OAAT,8DAAkBC,KAAlB,GACD,CAJD,CAMA,GAAMC,kBAAiB,CAAGf,KAAK,CAACgB,WAAN,CACxBd,QAAQ,CAAC,SAACe,GAAD,CAAiB,CACxBX,QAAQ,CAACF,cAAc,CAACa,GAAD,CAAf,CAAR,CACD,CAFO,CAEL,GAFK,CADgB,CAIxB,EAJwB,CAA1B,CAOA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAgD,CACpEV,QAAQ,CAACU,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAR,CACAO,iBAAiB,CAACI,KAAK,CAACC,MAAN,CAAaZ,KAAd,CAAjB,CACD,CAHD,CAIA,mBACE,aAAK,SAAS,CAAEL,MAAM,CAACkB,IAAvB,wBACE,aACE,SAAS,CAAElB,MAAM,CAACmB,IADpB,CAEE,gBAAgB,CAAC,eAFnB,CAGE,EAAE,CAAC,eAHL,CAIE,OAAO,CAAC,KAJV,CAKE,OAAO,CAAC,WALV,CAME,KAAK,CAAC,4BANR,wBAOE,eACE,EAAE,CAAC,IADL,CAEE,EAAE,CAAC,IAFL,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,WAJL,CAKE,CAAC,CAAC,GALJ,CAME,MAAM,CAAC,SANT,CAOE,aAAa,CAAC,OAPhB,CAQE,cAAc,CAAC,OARjB,CASE,gBAAgB,CAAC,IATnB,CAUE,WAAW,CAAC,GAVd,EAPF,cAmBE,aACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,WAFL,CAGE,MAAM,CAAC,SAHT,CAIE,aAAa,CAAC,OAJhB,CAKE,cAAc,CAAC,OALjB,CAME,gBAAgB,CAAC,IANnB,CAOE,WAAW,CAAC,GAPd,CAQE,EAAE,CAAC,IARL,CASE,EAAE,CAAC,QATL,CAUE,EAAE,CAAC,IAVL,CAWE,EAAE,CAAC,QAXL,EAnBF,GADF,cAkCE,cACE,GAAG,CAAEZ,QADP,CAEE,KAAK,CAAEF,KAFT,CAGE,QAAQ,CAAEU,aAHZ,CAIE,SAAS,CAAEf,MAAM,CAACoB,KAJpB,CAKE,WAAW,CAAC,0EALd,EAlCF,CAyCGf,KAAK,eACJ,YACE,OAAO,CAAEI,YADX,CAEE,SAAS,CAAET,MAAM,CAACqB,SAFpB,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,4BAJR,uBAKE,aAAM,CAAC,CAAC,mJAAR,EALF,EA1CJ,GADF,CAqDD,CA3ED,CA6EA,cAAenB,OAAf"},"metadata":{},"sourceType":"module"}