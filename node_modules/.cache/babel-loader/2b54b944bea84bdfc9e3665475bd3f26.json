{"ast":null,"code":"import _slicedToArray from\"C:/\\u041F\\u0440\\u043E\\u044D\\u043A\\u0442\\u044B/AKVATERM/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import ReactPlayer from'react-player/youtube';import{useDispatch,useSelector}from'react-redux';import{addItem}from'../../redux/cart/slice';import videoPlayImg from'../../assets/img/play.png';import{Link}from'react-router-dom';import{Modal}from'../Modal';import{selectCartItemById}from'../../redux/cart/selectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=['Розміри','Ш*Г*В'];export var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,videoUrl=_ref.videoUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),activeType=_React$useState2[0],setActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),activeSize=_React$useState4[0],setActiveSize=_React$useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,videoUrl:videoUrl,type:typeNames[activeType],size:sizes[activeSize],count:0};dispatch(addItem(item));};var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open=_React$useState6[0],setOpen=_React$useState6[1];return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]},id),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App-modal\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"btnPlay\",onClick:function onClick(){return setOpen(true);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"playImg\",src:videoPlayImg,alt:\"Empty cart\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0456\\u0434\\u0435\\u043E \\u043E\\u0433\\u043B\\u044F\\u0434 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0443\"})]}),/*#__PURE__*/_jsx(Modal,{open:open,setOpen:setOpen,children:/*#__PURE__*/_jsx(\"div\",{className:\"video\",children:/*#__PURE__*/_jsx(ReactPlayer,{url:videoUrl})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(typeId){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(typeId);},className:activeType===typeId?'active':'',children:typeNames[typeId]},typeId);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setActiveSize(index);},className:activeSize===index?'active':'',children:[size,\" \\u0441\\u043C.\"]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\" \",price,\" \\u0433\\u0440.\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};","map":{"version":3,"names":["React","ReactPlayer","useDispatch","useSelector","addItem","videoPlayImg","Link","Modal","selectCartItemById","typeNames","PizzaBlock","id","title","price","imageUrl","videoUrl","sizes","types","dispatch","cartItem","useState","activeType","setActiveType","activeSize","setActiveSize","addedCount","count","onClickAdd","item","type","size","open","setOpen","map","typeId","index"],"sources":["C:/Проэкты/AKVATERM/src/components/PizzaBlock/index.tsx"],"sourcesContent":["import React from 'react';\r\nimport ReactPlayer from 'react-player/youtube';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItem } from '../../redux/cart/slice';\r\nimport videoPlayImg from '../../assets/img/play.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal } from '../Modal';\r\nimport { CartItem } from '../../redux/cart/types';\r\nimport { selectCartItemById } from '../../redux/cart/selectors';\r\n\r\nconst typeNames = ['Розміри', 'Ш*Г*В'];\r\n\r\nexport type PizzaBlockProps = {\r\n  id: string;\r\n  title: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  videoUrl: string;\r\n  sizes: number[];\r\n  types: number[];\r\n  index: string;\r\n};\r\n\r\nexport type ModalProps = {\r\n  open: boolean;\r\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  children: any;\r\n};\r\n\r\nexport const PizzaBlock: React.FC<PizzaBlockProps> = ({\r\n  id,\r\n  title,\r\n  price,\r\n  imageUrl,\r\n  videoUrl,\r\n  sizes,\r\n  types,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const cartItem = useSelector(selectCartItemById(id));\r\n  const [activeType, setActiveType] = React.useState(0);\r\n  const [activeSize, setActiveSize] = React.useState(0);\r\n  const addedCount = cartItem ? cartItem.count : 0;\r\n  const onClickAdd = () => {\r\n    const item: CartItem = {\r\n      id,\r\n      title,\r\n      price,\r\n      imageUrl,\r\n      videoUrl,\r\n      type: typeNames[activeType],\r\n      size: sizes[activeSize],\r\n      count: 0,\r\n    };\r\n    dispatch(addItem(item));\r\n  };\r\n  const [open, setOpen] = React.useState(false);\r\n  return (\r\n    <div className=\"pizza-block-wrapper\">\r\n      <div className=\"pizza-block\">\r\n        <Link key={id} to={`/pizza/${id}`}>\r\n          <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n          <h4 className=\"pizza-block__title\">{title}</h4>\r\n        </Link>\r\n        <div>\r\n          <div className=\"App-modal\">\r\n            <li className=\"btnPlay\" onClick={() => setOpen(true)}>\r\n              <img className=\"playImg\" src={videoPlayImg} alt=\"Empty cart\" />\r\n              <h4>Відео огляд товару</h4>\r\n            </li>\r\n            <Modal open={open} setOpen={setOpen}>\r\n              <div className=\"video\">\r\n                <ReactPlayer url={videoUrl} />\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {types.map((typeId) => (\r\n              <li\r\n                key={typeId}\r\n                onClick={() => setActiveType(typeId)}\r\n                className={activeType === typeId ? 'active' : ''}>\r\n                {typeNames[typeId]}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <ul>\r\n            {sizes.map((size, index) => (\r\n              <li\r\n                key={index}\r\n                onClick={() => setActiveSize(index)}\r\n                className={activeSize === index ? 'active' : ''}>\r\n                {size} см.\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"pizza-block__bottom\">\r\n          <div className=\"pizza-block__price\"> {price} гр.</div>\r\n          <button onClick={onClickAdd} className=\"button button--outline button--add\">\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Додати</span>\r\n            {addedCount > 0 && <i>{addedCount}</i>}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}